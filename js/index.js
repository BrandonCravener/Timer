"use strict";!function(){function e(){if(location.search){var e=[];return decodeURI(location.search.replace("?","")).toLowerCase().match(/\d*\D*/gi).forEach(function(t){if(t.length>0){var n=t.match(/\d+|\D+/gi);2==n.length&&e.push(n)}}),e}}function t(e){var t=0;return e.forEach(function(e){var n,i=e[1],r=!1;m.forEach(function(t){-1!==t[0].indexOf(i)&&(r=!0,n=Number(e[0]*t[1]))}),r&&n&&(t+=n)}),t}function n(e){var t="",n="",i=0,r=e/1e3/60/60>1,s=0,a=e/1e3/60>1,o=0,l=e/1e3,u=0,c=e;if(e/1e3/60/60/24>1&&(i=m=Math.floor(c/1e3/60/60/24),c-=1e3*m*60*60*24),r&&(s=m=Math.floor(c/1e3/60/60),c-=1e3*m*60*60),a&&(o=m=Math.floor(c/1e3/60),c-=1e3*m*60),l){var m=Math.floor(c/1e3);u=m,c-=1e3*m}return i&&(t+=i+" days ",n+=i+"d:"),s&&(t+=s+" hours ",n+=s+"h:"),o&&(t+=o+" minutes ",n+=o+"m:"),u&&(t+=u+" seconds ",n+=u+"s"),{days:i,hours:s,minutes:o,seconds:u,timeText:t,tabTimeText:n}}function i(){o||(o=setInterval(function(){h+=250,$("#progress__time-remaning").css("width",h/f*100+"%")},250))}function r(e){i(),$("#text__time-remaining").text(n(e).timeText),f=e,_=e,l=setInterval(function(){var e=n(_-=1e3);$("#text__time-remaining").text(e.timeText),d||(document.title=e.tabTimeText)},1e3),u=setTimeout(function(){l&&clearInterval(l),o&&clearInterval(o),$("#text__time-remaining").text("Time Over!"),$("#progress__time-remaning").css("width","100%"),d||(document.title="Time Over!"),c=setInterval(function(){var e=document.getElementById("audio__beep");e&&e.play()},2e3)},e),$(".time-input-fields").is(":visible")?$(".time-input-fields").fadeOut(125,function(){$("#text__time-remaining").fadeIn(125)}):$("#text__time-remaining").fadeIn(125),setTimeout(function(){$(".control-buttons").animate({"margin-top":$("#text__time-remaining").height()+20+"px"},{duration:125})},130),d&&$(".progress").slideDown()}function s(e){e||($("#number__days").val("").removeClass("valid"),$("#number__hours").val("").removeClass("valid"),$("#number__minutes").val("").removeClass("valid"),$("#number__seconds").val("").removeClass("valid"),$("#text__time-remaining").fadeOut(125,function(){$(".time-input-fields").fadeIn(125,function(){$(".control-buttons").animate({"margin-top":$(".time-input-fields").height()-20+"px"},{duration:125})})})),$("#progress__time-remaning").css("width","0%"),u&&(clearTimeout(u),u=null),l&&(clearInterval(l),l=null),o&&(clearInterval(o),o=null),c&&(clearInterval(c),c=null),_=0,f=0,h=0}function a(){if(f){var e=f;s(!0),r(e)}}"serviceWorker"in navigator&&window.addEventListener("load",function(){var e=navigator.serviceWorker;e.register("service-worker.js").then(function(t){t.onupdatefound=function(){var n=t.installing;n.onstatechange=function(){switch(n.state){case"installed":e.controller?(Materialize.toast("Reload to get the latest version of this site!",5e3),console.log("New or updated content is available.")):(Materialize.toast("This site is now accessible offline!",5e3),console.log("Content is now available offline!"));break;case"redundant":console.error("The installing service worker became redundant.")}}}}).catch(function(e){console.error("Error during service worker registration:",e)})});var o,l,u,c,m=[[["seconds","secs","second","sec"],1e3],[["minutes","mins","minute","min"],6e4],[["hours","hrs","hour","hr"],36e5],[["days","day"],864e5]],d=!0,v=!1,f=0,_=0,h=0;e()&&0!==e().length&&r(t(e())),$(document).ready(function(){var e=setInterval(function(){Window.removeLoader&&($("#loading-overlay").fadeOut(function(){$(this).remove()}),$("main").fadeIn(),clearInterval(e))},125)}),$(window).focus(function(){d=!0,"Timer"!==document.title&&(document.title="Timer"),u&&!v&&(h=f-_,$(".progress").slideDown(),i(),v=!0,setTimeout(function(){v=!1,d&&(h=f-_,$(".progress").slideDown(),i())},500))}).blur(function(){d=!1,$(".progress").slideUp(),clearInterval(o),o=null}),$(window).resize(function(){$("#text__time-remaining").is(":visible")?$(".control-buttons").css("margin-top",$("#text__time-remaining").height()+"px"):$(".time-input-fields").is(":visible")&&$(".control-buttons").css("margin-top",$(".time-input-fields").height()+"px")}),$("#button__reset-timer").click(function(){s()}),$("#button__restart-timer").click(function(){a()}),$("#button__start-timer").click(function(){if(!f&&$("#number__seconds").val()+$("#number__hours").val()+$("#number__minutes").val()+$("#number__days").val()>0){var e=[];$("#number__days").hasClass("valid")&&e.push([$("#number__days").val(),"days"]),$("#number__hours").hasClass("valid")&&e.push([$("#number__hours").val(),"hours"]),$("#number__minutes").hasClass("valid")&&e.push([$("#number__minutes").val(),"minutes"]),$("#number__seconds").hasClass("valid")&&e.push([$("#number__seconds").val(),"seconds"]),s(!0),r(t(e))}})}();