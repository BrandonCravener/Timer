"use strict";!function(){function e(){if(location.search){var e=[];return decodeURI(location.search.replace("?","")).toLowerCase().match(/\d*\D*/gi).forEach(function(n){if(n.length>0){var t=n.match(/\d+|\D+/gi);2==t.length&&e.push(t)}}),e}}function n(e){var n=0;return e.forEach(function(e){var t,i=e[1],r=!1;c.forEach(function(n){-1!==n[0].indexOf(i)&&(r=!0,t=Number(e[0]*n[1]))}),r&&t&&(n+=t)}),n}function t(e){var n,t=[],i={tabTimeText:"",timeText:""},r=e;e/1e3/60/60/24>1&&(n=Math.floor(r/1e3/60/60/24),i.numDays=n,r-=1e3*n*60*60*24,n&&(i.timeText+=i.numDays+" days ",t.push(i.numDays+"d"))),e/1e3/60/60>1&&(n=Math.floor(r/1e3/60/60),i.numHours=n,r-=1e3*n*60*60,n&&(i.timeText+=i.numHours+" hours ",t.push(i.numHours+"h"))),e/1e3/60>1&&(n=Math.floor(r/1e3/60),i.numMinutes=n,r-=1e3*n*60,n&&(i.timeText+=i.numMinutes+" minutes ",t.push(i.numMinutes+"m"))),e/1e3>=1&&(n=Math.floor(r/1e3),i.numSeconds=n,r-=1e3*n,n&&(i.timeText+=i.numSeconds+" seconds ",t.push(i.numSeconds+"s")));for(var a=0;a<t.length;a++){var s=t[a];i.tabTimeText+=s,a!==t.length-1&&(i.tabTimeText+=":")}return i}function i(){o||(o=setInterval(function(){_+=250,$("#progress__time-remaning").css("width",_/v*100+"%")},250))}function r(e){i(),$("#text__time-remaining").text(t(e).timeText),v=e,h=e,u=setInterval(function(){var e=t(h-=1e3);$("#text__time-remaining").text(e.timeText),d||(document.title=e.tabTimeText)},1e3),l=setTimeout(function(){u&&clearInterval(u),o&&clearInterval(o),$("#text__time-remaining").text("Time Over!"),$("#progress__time-remaning").css("width","100%"),d||(document.title="Time Over!");var e=document.getElementById("audio__beep");e.play(),m=setInterval(function(){e.play()},2e3)},e),$(".time-input-fields").is(":visible")?$(".time-input-fields").fadeOut(125,function(){$("#text__time-remaining").fadeIn(125)}):$("#text__time-remaining").fadeIn(125),setTimeout(function(){$(".control-buttons").animate({"margin-top":$("#text__time-remaining").height()+40+"px"},{duration:125})},130),d&&$(".progress").slideDown()}function a(e){e||($("#number__days").val("").removeClass("valid"),$("#number__hours").val("").removeClass("valid"),$("#number__minutes").val("").removeClass("valid"),$("#number__seconds").val("").removeClass("valid"),$("#text__time-remaining").fadeOut(125,function(){$(".time-input-fields").fadeIn(125,function(){$(".control-buttons").animate({"margin-top":$(".time-input-fields").height()+"px"},{duration:125})})})),$("#progress__time-remaning").css("width","0%"),l&&(clearTimeout(l),l=null),u&&(clearInterval(u),u=null),o&&(clearInterval(o),o=null),m&&(clearInterval(m),m=null),h=0,v=0,_=0}function s(){if(v){var e=v;a(!0),r(e)}}"serviceWorker"in navigator&&window.addEventListener("load",function(){var e=navigator.serviceWorker;e.register("service-worker.js").then(function(n){n.onupdatefound=function(){var t=n.installing;t.onstatechange=function(){switch(t.state){case"installed":e.controller?(Materialize.toast("Reload to get the latest version of this site!",5e3),console.log("New or updated content is available.")):(Materialize.toast("This site is now accessible offline!",5e3),console.log("Content is now available offline!"));break;case"redundant":console.error("The installing service worker became redundant.")}}}}).catch(function(e){console.error("Error during service worker registration:",e)})});var o,u,l,m,c=[[["seconds","secs","second","sec"],1e3],[["minutes","mins","minute","min"],6e4],[["hours","hrs","hour","hr"],36e5],[["days","day"],864e5]],d=!0,f=!1,v=0,h=0,_=0;e()&&0!==e().length&&r(n(e())),$(document).ready(function(){var e=setInterval(function(){Window.removeLoader&&(clearInterval(e),$(".loader-background").animate({width:"0px",height:"0px"},675,"swing",function(){$(".spinner").animate({top:$("#loading-overlay").height()+"px"},325,"linear",function(){$("main").fadeIn(125,function(){$(".control-buttons").fadeIn(125),v||$(".time-input-fields").fadeIn(125),$("#loading-overlay").remove()})})}))},125)}),$(window).focus(function(){d=!0,"Timer"!==document.title&&(document.title="Timer"),l&&!f&&(_=v-h,$(".progress").slideDown(),i(),f=!0,setTimeout(function(){f=!1,d&&(_=v-h,$(".progress").slideDown(),i())},500))}).blur(function(){d=!1,$(".progress").slideUp(),clearInterval(o),o=null}),$(window).resize(function(){$("#text__time-remaining").is(":visible")?$(".control-buttons").css("margin-top",$("#text__time-remaining").height()-16+"px"):$(".time-input-fields").is(":visible")&&$(".control-buttons").css("margin-top",$(".time-input-fields").height()-16+"px")}),$("#button__reset-timer").click(function(){a()}),$("#button__restart-timer").click(function(){s()}),$("#button__start-timer").click(function(){if(!v&&$("#number__seconds").val()+$("#number__hours").val()+$("#number__minutes").val()+$("#number__days").val()>0){var e=[];$("#number__days").hasClass("valid")&&e.push([$("#number__days").val(),"days"]),$("#number__hours").hasClass("valid")&&e.push([$("#number__hours").val(),"hours"]),$("#number__minutes").hasClass("valid")&&e.push([$("#number__minutes").val(),"minutes"]),$("#number__seconds").hasClass("valid")&&e.push([$("#number__seconds").val(),"seconds"]),a(!0),r(n(e))}})}();